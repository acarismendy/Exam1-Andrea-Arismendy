<!DOCTYPE html>
<html>
  <head>
     <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Exam1-andrea-arismendy : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <script type="text/javascript" src="javascripts/d3.js"></script>

    <title>Exam1-andrea-arismendy</title>
  </head>
  
  <body>
    <!--Header-->
    <div id="header">
      <h1>Comparison of the number of IE senior students per university</h1>
    </div>
  
    <!--Graph-->
    <div id="barChart">
    
    </div>
    
    <script type="text/javascript">
      d3.json("data.json",function(data){
        var height=400;
        var width=600;
        var padding=15;
        var labels=d3.keys(data[3]);
        labels.shift();
        var values=d3.values(data[3]);
        values.shift();
        console.log(values);
        var svg=d3.select("#barChart").append("svg")
                  .attr("height",height)
                  .attr("width",width)
                  .attr("class", "graph");
               svg.selectAll("rect")
                  .data(values)
                  .enter()
                  .append("rect")
                  .attr("x",function(d,i){return i*width/values.length+padding;})
                  .attr("height",function(d,i){return values[i];})
                  .attr("y",function(d,i){return height-values[i]-padding;})
                  .attr("fill","black")
                  .attr("width",width/values.length-padding);
                svg.selectAll("text")
                    .data(values)
                    .enter()
                    .append("text")
                    .text(function(d,i){return values[i];})
                    .attr("fill","red")
                    .attr("x",function(d,i){return i*width/values.length+padding;})
                    .attr("y",function(d,i){return height-values[i]-padding;});
         
        var yScale=d3.scale.linear();
                    yScale.domain([100,0])
              .range([padding,height]);
        var yAxis=d3.svg.axis()
                    .scale(yScale)
                    .orient("left")
                    .ticks(10);
            svg.append("g")
               .attr("class","axis")
               .attr("transform","translate("+10+padding+",-"+(padding)+")")
               .call(yAxis);
        var xScale= d3.scale.ordinal()
                      .domain(labels)
                      .rangePoints([padding, width-padding]);            
        var xAxis= d3.svg.axis()
                     .scale(xScale)
                     .orient("bottom")
                     .ticks(5);
            svg.append("g")
               .attr("class","axis")
               .attr("transform","translate(0,"+(height-padding)+10+")")
               .call(xAxis)
               .selectAll("text")
                .attr("y",0 )
               .attr("transform", "translate(3,2)")
               .style("text-anchor", "start")
               .attr("fill","black");
                      
       
                    
      });
    </script>
  </body>

</html>
